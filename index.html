<!DOCTYPE html>
<html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="css/main.css">
    <script src="js/validate.js"></script>
</head>
<body>

    <h3>Registriere dich jetzt bei OpenPetition!</h3>


    <label for="username">User</label>
    <input type="text" name="username" id="username" class="userinput">

    <label for="usermail">E-Mail</label>
    <input type="text" name="usermail" id="usermail" class="userinput" >
    
    <label for="psw">Password</label>
    <input type="password" id="psw" name="psw" >

    <div id="pwstrength"></div>

  
<script>

let passwordInput = document.getElementById('psw');
let passwordStrength = document.getElementById('pwstrength');
let upperCaseLetters = /[A-Z]/g;
let specialcharacters = /[^a-zA-Z\d]/; 
let numbers = /[0-9]/g; 

document.getElementById("pwstrength").style.display = "none";

console.log(passwordInput);
passwordInput.onkeyup = function() {
    if (passwordInput.value.length > 0)
        document.getElementById("pwstrength").style.display = "block";
    else document.getElementById("pwstrength").style.display = "none";

    console.log(passwordInput.value.length);
    console.log(passwordInput.value.match(upperCaseLetters));
   
    if (passwordInput.value.match("12345")){
        passwordStrength.style.backgroundColor = "#f24336";
        passwordStrength.textContent = "Really?";
    }
    else if(passwordInput.value.length < 8) {
        passwordStrength.style.backgroundColor = "#f24336";
        passwordStrength.textContent = "Ihr Passwort muss mindestens 8 Zeichen beinhalten!"
    } 
    else if (!passwordInput.value.match(upperCaseLetters)) {
        passwordStrength.style.backgroundColor = "#f24336";
        passwordStrength.textContent = "Ihr Passwort muss mindestens einen GroÃŸbuchstaben beinhalten!"
    }
    else if (!passwordInput.value.match(numbers)){
        passwordStrength.style.backgroundColor = "#ff0";
        passwordStrength.textContent = "Ihr Passwort muss mindestens eine Zahl beinhalten!"
    }
    else if (!passwordInput.value.match(specialcharacters)){
        passwordStrength.style.backgroundColor = "#f24336";
        passwordStrength.textContent = "Ihr Passwort muss mindestens ein Sonderzeichen beinhalten!"
    }
    else {
        passwordStrength.style.backgroundColor = "#63ff7c";
        passwordStrength.textContent = "Sicheres Passwort";
    }
}
</script>
</body>
</html>